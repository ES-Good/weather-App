(function(){var t={4482:function(t,e,n){"use strict";var i=n(9963),o=n(6252);function a(t,e,n,i,a,s){const r=(0,o.up)("Home");return(0,o.wg)(),(0,o.j4)(r)}var s=n(3577);const r={class:"main"},c={class:"main__content"};function u(t,e,n,i,a,u){const d=(0,o.up)("MainHeader"),l=(0,o.up)("MainFooter"),p=(0,o.up)("ModalCity");return(0,o.wg)(),(0,o.iD)("div",{class:"container-fluid main-page",onMousemove:e[0]||(e[0]=(...t)=>u.hover&&u.hover(...t)),style:(0,s.j5)({backgroundPosition:`${u.posX}% ${u.posY}%`})},[(0,o._)("div",r,[(0,o._)("div",c,[(0,o.Wm)(d),(0,o.Wm)(l)])]),(0,o.Wm)(p)],36)}const d={class:"main__header"};function l(t,e,n,i,a,s){const r=(0,o.up)("MainTitle"),c=(0,o.up)("btn");return(0,o.wg)(),(0,o.iD)("div",d,[(0,o.Wm)(r),(0,o.Wm)(c,{modifierClass:"btn_dark",onClick:t.openModal},{default:(0,o.w5)((()=>[(0,o.Uk)(" Выберете город ")])),_:1},8,["onClick"])])}var p=n(3907);function f(t,e,n,i,a,r){return(0,o.wg)(),(0,o.iD)("button",{class:(0,s.C_)(["btn",n.modifierClass])},[(0,o.WI)(t.$slots,"default")],2)}var h={props:{modifierClass:String}},g=n(3744);const m=(0,g.Z)(h,[["render",f]]);var v=m;const y={class:"main__title"};function C(t,e,n,i,a,r){return(0,o.wg)(),(0,o.iD)("p",y,(0,s.zw)(t.city),1)}var b={computed:{...(0,p.Se)(["city"])}};const w=(0,g.Z)(b,[["render",C]]);var _=w,k={name:"MainHeader",components:{Btn:v,MainTitle:_},methods:{...(0,p.OI)(["openModal"])}};const W=(0,g.Z)(k,[["render",l]]);var M=W;const x={class:"main__footer"},O={class:"main__info-box"},D=["src"],j={class:"main__description-weather"},S={class:"main__degree"};function I(t,e,n,i,a,r){return(0,o.wg)(),(0,o.iD)("div",x,[(0,o._)("div",O,[(0,o._)("img",{src:r.ico},null,8,D),(0,o._)("p",j,(0,s.zw)(t.descriptionWeather),1),(0,o._)("p",S,(0,s.zw)(t.temp),1)])])}var P={computed:{...(0,p.Se)(["icoWeather","temp","descriptionWeather","tempFeelsLike"]),ico(){if(!this.icoWeather)return;const t=this.icoWeather;return n(6478)(`./${t}.svg`)}}};const F=(0,g.Z)(P,[["render",I]]);var Y=F;const X={class:"modal"},$={class:"modal__custom-select"},H={class:"modal__city-list"},L=["onClick"];function T(t,e,n,a,r,c){const u=(0,o.up)("btn-vue");return(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{class:"overlay",onClick:e[2]||(e[2]=(0,i.iM)(((...e)=>t.closeModal&&t.closeModal(...e)),["self"]))},[(0,o.Wm)(i.uT,{name:"fade"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o._)("div",X,[(0,o.wy)((0,o._)("input",{type:"text",class:"input-city","onUpdate:modelValue":e[0]||(e[0]=t=>r.inputCity=t),placeholder:"Введите город",onInput:e[1]||(e[1]=(...t)=>c.disabledBtn&&c.disabledBtn(...t))},null,544),[[i.nr,r.inputCity]]),(0,o.wy)((0,o._)("div",$,[(0,o._)("ul",H,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.hintsCity,((t,e)=>((0,o.wg)(),(0,o.iD)("li",{key:e,class:"modal__city-item",onClick:e=>c.addCityInput(t)},(0,s.zw)(t),9,L)))),128))])],512),[[i.F8,r.hintsCity.length]]),(0,o.Wm)(u,{modifierClass:"btn_dark btn_modal-city",class:(0,s.C_)({btn_disabled:!r.chackClickCity}),onClick:c.changeCityPage},{default:(0,o.w5)((()=>[(0,o.Uk)(" Ок ")])),_:1},8,["class","onClick"])],512),[[i.F8,t.showModal]])])),_:1})],512)),[[i.F8,t.showModal]])}n(7658);async function Z(){const t=await fetch("city.json"),e=await t.json();return e}var B={data(){return{citys:[],hintsCity:[],inputCity:"",chackClickCity:!1}},components:{BtnVue:v},methods:{...(0,p.OI)(["closeModal"]),...(0,p.nv)(["fetchDataWeather"]),addCityInput(t){this.inputCity=t,this.chackClickCity=!0},changeCityPage(){this.chackClickCity&&(localStorage.setItem("city",this.inputCity),this.fetchDataWeather(this.inputCity),this.hintsCity=[],this.closeModal())},disabledBtn(){this.chackClickCity=!1}},watch:{inputCity(){if(this.inputCity=this.inputCity.trim(),this.inputCity.length<3)return;let t=this.citys.filter((t=>t.toLocaleLowerCase().indexOf(this.inputCity.toLocaleLowerCase())>-1));this.hintsCity=t}},computed:{...(0,p.Se)(["showModal"])},async mounted(){let t=await Z();for(const n of t)this.citys.push(n.city);function e(t,e){fetch(`https://geocode-maps.yandex.ru/1.x/?apikey=2759e6cd-b387-436a-95b8-9a9f59e7a7b1&format=json&geocode=${e},${t}`).then((t=>t.json())).then((t=>{localStorage.setItem("cityGeolocation",t.response.GeoObjectCollection.featureMember[0].GeoObject.description.split(",")[0])}))}navigator.geolocation.getCurrentPosition((function(t){e(t.coords.latitude,t.coords.longitude)}))}};const G=(0,g.Z)(B,[["render",T]]);var U=G,z={components:{MainHeader:M,MainFooter:Y,ModalCity:U},data(){return{backgroundPositionX:50,backgroundPositionY:50}},methods:{...(0,p.nv)(["fetchDataWeather","fetchDataCitys"]),hover(t){this.backgroundPositionX=50+Math.round((t.offsetX-this.centerX)/90),this.backgroundPositionY=50+Math.round((t.offsetY-this.centerY)/90)}},async mounted(){this.fetchDataWeather()},updated(){},computed:{posX(){return String(this.backgroundPositionX)},posY(){return String(this.backgroundPositionY)},centerX(){return document.querySelector("body").offsetWidth/2},centerY(){return document.querySelector("body").offsetHeight/2}}};const q=(0,g.Z)(z,[["render",u]]);var E=q,A={name:"App",components:{Home:E}};const N=(0,g.Z)(A,[["render",a]]);var V=N,K=(0,p.MT)({state:{dataWeather:null,modal:!1,citys:[]},getters:{icoWeather(t){if(t.dataWeather)return t.dataWeather.weather[0].icon},city(t){if(t.dataWeather)return t.dataWeather.name},temp(t){if(t.dataWeather)return Math.round(t.dataWeather.main.temp)},descriptionWeather(t){if(t.dataWeather)return t.dataWeather.weather[0].description},tempFeelsLike(t){if(t.dataWeather)return Math.round(t.dataWeather.main.feels_like)},showModal(t){return t.modal}},mutations:{updateDataWeather(t,e){t.dataWeather=e},updateDataCitys(t,e){t.citys=e},closeModal(t){t.modal=!1},openModal(t){t.modal=!0}},actions:{async fetchDataWeather(t,e){e=localStorage.getItem("city")?localStorage.getItem("city"):localStorage.getItem("cityGeolocation")?localStorage.getItem("cityGeolocation"):"Москва";const n="7a28604d21ba9247aee5adb523184bc9",i=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}&lang=ru&units=metric&appid=${n}`),o=await i.json();t.commit("updateDataWeather",o)}}});(0,i.ri)(V).use(K).mount("#app")},6478:function(t,e,n){var i={"./01d.svg":9375,"./01n.svg":2130,"./02d.svg":50,"./02n.svg":4076,"./03d.svg":378,"./03n.svg":7686,"./04d.svg":9111,"./04n.svg":8388,"./09d.svg":7883,"./09n.svg":8392,"./10d.svg":3437,"./10n.svg":5475,"./11d.svg":7673,"./11n.svg":1413,"./13d.svg":9405,"./13n.svg":8201,"./50d.svg":9629,"./50n.svg":7859};function o(t){var e=a(t);return n(e)}function a(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}o.keys=function(){return Object.keys(i)},o.resolve=a,t.exports=o,o.id=6478},9375:function(t,e,n){"use strict";t.exports=n.p+"img/01d.131505b4.svg"},2130:function(t,e,n){"use strict";t.exports=n.p+"img/01n.aaf8f71f.svg"},50:function(t,e,n){"use strict";t.exports=n.p+"img/02d.5d67b3ac.svg"},4076:function(t,e,n){"use strict";t.exports=n.p+"img/02n.ab84b456.svg"},378:function(t,e,n){"use strict";t.exports=n.p+"img/03d.2d7a11d8.svg"},7686:function(t,e,n){"use strict";t.exports=n.p+"img/03n.2d7a11d8.svg"},9111:function(t,e,n){"use strict";t.exports=n.p+"img/04d.2d7a11d8.svg"},8388:function(t,e,n){"use strict";t.exports=n.p+"img/04n.2d7a11d8.svg"},7883:function(t,e,n){"use strict";t.exports=n.p+"img/09d.3167b040.svg"},8392:function(t,e,n){"use strict";t.exports=n.p+"img/09n.3167b040.svg"},3437:function(t,e,n){"use strict";t.exports=n.p+"img/10d.cc034b55.svg"},5475:function(t,e,n){"use strict";t.exports=n.p+"img/10n.0d212bd0.svg"},7673:function(t,e,n){"use strict";t.exports=n.p+"img/11d.00592116.svg"},1413:function(t,e,n){"use strict";t.exports=n.p+"img/11n.00592116.svg"},9405:function(t,e,n){"use strict";t.exports=n.p+"img/13d.42ce8a46.svg"},8201:function(t,e,n){"use strict";t.exports=n.p+"img/13n.42ce8a46.svg"},9629:function(t,e,n){"use strict";t.exports=n.p+"img/50d.f6fa3002.svg"},7859:function(t,e,n){"use strict";t.exports=n.p+"img/50n.f6fa3002.svg"}},e={};function n(i){var o=e[i];if(void 0!==o)return o.exports;var a=e[i]={exports:{}};return t[i].call(a.exports,a,a.exports,n),a.exports}n.m=t,function(){var t=[];n.O=function(e,i,o,a){if(!i){var s=1/0;for(d=0;d<t.length;d++){i=t[d][0],o=t[d][1],a=t[d][2];for(var r=!0,c=0;c<i.length;c++)(!1&a||s>=a)&&Object.keys(n.O).every((function(t){return n.O[t](i[c])}))?i.splice(c--,1):(r=!1,a<s&&(s=a));if(r){t.splice(d--,1);var u=o();void 0!==u&&(e=u)}}return e}a=a||0;for(var d=t.length;d>0&&t[d-1][2]>a;d--)t[d]=t[d-1];t[d]=[i,o,a]}}(),function(){n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.p="/weather-App/"}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,i){var o,a,s=i[0],r=i[1],c=i[2],u=0;if(s.some((function(e){return 0!==t[e]}))){for(o in r)n.o(r,o)&&(n.m[o]=r[o]);if(c)var d=c(n)}for(e&&e(i);u<s.length;u++)a=s[u],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(d)},i=self["webpackChunkweather"]=self["webpackChunkweather"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(4482)}));i=n.O(i)})();
//# sourceMappingURL=app.99e73c4d.js.map